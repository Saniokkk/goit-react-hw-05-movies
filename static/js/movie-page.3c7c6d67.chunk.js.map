{"version":3,"file":"static/js/movie-page.3c7c6d67.chunk.js","mappings":"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","sources":["components/MoviesList/CardMovie.jsx","components/MoviesList/MoviesList.jsx","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","webpack://goit-react-hw-05-movies/./src/components/MoviesPage/MoviesPage.module.css?564c","components/MoviesPage/MoviesPage.jsx","services/API.js","services/imageDefaultLink.js","webpack://goit-react-hw-05-movies/./src/components/MoviesList/MoviesList.module.css?de3d"],"sourcesContent":["import { Link } from 'react-router-dom';\r\nimport { imageDefaultLink } from 'services/imageDefaultLink';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './MoviesList.module.css';\r\nimport  defaultImg  from '../../board-placeholder.jpg';\r\n\r\n\r\nexport function CardMovie({ state, id, title, poster }) {    \r\n    return (<li key={id} className={styles.cardMovie}>\r\n                    <Link to={`/movies/${id}`} state={state}>\r\n                        <img src={poster ? `${imageDefaultLink}${poster}` : defaultImg} alt={title} />\r\n                        <h3>{title}</h3>\r\n                    </Link>\r\n            </li>)\r\n}\r\n\r\nCardMovie.propTypes = {\r\n    state: PropTypes.string.isRequired,\r\n    id: PropTypes.number.isRequired,\r\n    title: PropTypes.string.isRequired,\r\n    poster: PropTypes.string\r\n}","import styles from './MoviesList.module.css';\r\n\r\nfunction MoviesList({children}) {\r\n    return (<ul className={styles.movieList}>{children}</ul>)\r\n}\r\n\r\nexport default MoviesList;\r\n\r\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"MoviesPage_form__IPjKp\"};","import { CardMovie } from \"components/MoviesList/CardMovie\";\r\nimport MoviesList from \"components/MoviesList/MoviesList\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { useLocation, useSearchParams } from \"react-router-dom\";\r\nimport * as API from '../../services/API';\r\nimport styles from './MoviesPage.module.css';\r\n\r\nfunction MoviesPage() {\r\n    const [searchParams, setSearchParams] = useSearchParams()\r\n    const [inputValue, setInputValue] = useState('');\r\n    const [searchValue, setSearchValue] = useState(null);\r\n    const [data, setData] = useState(null);\r\n    const {pathname, search} = useLocation()\r\n\r\n    const currenUrl = `${pathname}${search}`;\r\n\r\n    const handleChange = (event) => {\r\n        setInputValue(event.currentTarget.value);\r\n    } \r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        setSearchValue(inputValue);\r\n        setSearchParams({...searchParams, query: inputValue });\r\n        setInputValue('');\r\n    }\r\n\r\n    useEffect(()=> {\r\n        if (search) {\r\n            const query = searchParams.get('query')\r\n            API.getSearchMovies(query).then((response) => setData(response.results))\r\n        }\r\n    },[])\r\n\r\n    useEffect(() => {\r\n        if (searchValue) {\r\n            API.getSearchMovies(searchValue).then((response) => setData(response.results));\r\n        }\r\n    }, [searchValue]);\r\n\r\n    return (\r\n        <>\r\n        <form className={styles.form} onSubmit={handleSubmit}>\r\n            <input type=\"text\" name=\"search\" value={inputValue} onChange={handleChange}/>\r\n            <button type=\"submit\">Search</button>\r\n        </form>\r\n            {data &&               \r\n            <MoviesList>\r\n                {data.map(({id, title, poster_path}) => {\r\n                    return <CardMovie\r\n                        key={id}    \r\n                        state={currenUrl}\r\n                        id={id}\r\n                        title={title}\r\n                        poster={poster_path} />\r\n                    \r\n                })} \r\n            </MoviesList> \r\n        }\r\n        </>                \r\n    )\r\n}\r\n\r\nexport default MoviesPage;","import axios from \"axios\";\r\n\r\naxios.defaults.baseURL = \"https://api.themoviedb.org/3\";\r\nconst API_KEY = \"e095a1290a6e5cce004c0f0ac9fc4656\"\r\n\r\nexport async function getTrendingMovies() {\r\n    const response = await axios.get(`/trending/movie/week?api_key=${API_KEY}`);\r\n    return response.data\r\n}\r\n\r\nexport async function getMovieById(id) {\r\n        const response = await axios.get(`/movie/${id}?api_key=${API_KEY}`);\r\n    return response.data\r\n}\r\n\r\nexport async function getCreditsById(id) {\r\n        const response = await axios.get(`/movie/${id}/credits?api_key=${API_KEY}`);\r\n    return response.data\r\n}\r\n\r\nexport async function getReviewsById(id) {\r\n        const response = await axios.get(`/movie/${id}/reviews?api_key=${API_KEY}`);\r\n    return response.data\r\n}\r\n\r\nexport async function getSearchMovies(search) {\r\n        const response = await axios.get(`/search/movie?api_key=${API_KEY}&query=${search}`);\r\n    return response.data\r\n}\r\n// https://api.themoviedb.org/3/movie/${id}/reviews?api_key=e095a1290a6e5cce004c0f0ac9fc4656\r\n\r\n","export const imageDefaultLink = \"https://image.tmdb.org/t/p/w500\";","// extracted by mini-css-extract-plugin\nexport default {\"movieList\":\"MoviesList_movieList__4ZIWp\",\"cardMovie\":\"MoviesList_cardMovie__rxxJJ\"};"],"names":["CardMovie","state","id","title","poster","className","styles","to","src","imageDefaultLink","defaultImg","alt","children","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","useSearchParams","searchParams","setSearchParams","useState","inputValue","setInputValue","searchValue","setSearchValue","data","setData","useLocation","pathname","search","currenUrl","useEffect","query","get","API","then","response","results","onSubmit","event","preventDefault","type","name","onChange","currentTarget","MoviesList","map","poster_path","axios","API_KEY","getTrendingMovies","getMovieById","getCreditsById","getReviewsById","getSearchMovies"],"sourceRoot":""}